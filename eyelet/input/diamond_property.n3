# original version at http://www.ii.uib.no/~bezem/GL/dpe.in
# DP(r) => DP(re), i.e. the diamond property is preserved under reflexive closure

@prefix : <http://example.org/#>.

# domain elements a,b,c
:a a :DomainElement.
:b a :DomainElement.
:c a :DomainElement.

# facts
:a :re :b.
:a :re :c.

# equality axioms
{?X a :DomainElement} => {?X :e ?X}.
{?X :e ?Y} => {?Y :e ?X}.
{?X :e ?Y. ?Y :re ?Z} => {?X :re ?Z}.

# basic facts on re
{?X :e ?Y} => {?X :re ?Y}.
{?X :r ?Y} => {?X :re ?Y}.
{?X :re ?Y} => ($ {?X :e ?Y} {?X :r ?Y} $).

# DP
{?X :r ?Y. ?X :r ?Z} => {?U a :DomainElement. ?Y :r ?U. ?Z :r ?U}.

# query
{:b :re ?X. :c :re ?X} =^ {:b :re ?X. :c :re ?X}.

