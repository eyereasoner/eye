# -----------
# Age checker
# -----------
#
# Is the age of a person above some duration?

PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX time: <http://www.w3.org/2000/10/swap/time#>
PREFIX math: <http://www.w3.org/2000/10/swap/math#>
PREFIX log: <http://www.w3.org/2000/10/swap/log#>
PREFIX var: <http://www.w3.org/2000/10/swap/var#>
PREFIX : <#>

# person data
:patH :birthDay "1944-08-21"^^xsd:date.

# is the age of a person above some duration?
_:bng_1 log:isImpliedBy _:bng_2.

GRAPH _:bng_1 {
    var:S :ageAbove var:A.
}

GRAPH _:bng_2 {
    var:S :birthDay var:B.
    [] rdf:value ""; time:localTime var:D.
    (var:D var:B) math:difference var:F.
    var:F math:greaterThan var:A.
}

# query
_:bng_3 log:query _:bng_3.

GRAPH _:bng_3 {
    var:S :ageAbove "P80Y"^^xsd:duration.
}

# assuming lingua explanations
[] log:explanation [].
