:- op(1200, xfx, :+).

answer('urn:example:determinant'([[2,-1,0],[-1,2,-1],[0,-1,2]],4.0)).
answer('urn:example:matrix_inversion'([[2,-1,0],[-1,2,-1],[0,-1,2]],[[0.75,0.5,0.25],[0.5,1.0,0.5],[0.25,0.5,0.75]])).
answer('urn:example:matrix_inversion'([[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],[[2.515624999999984,0.484374999999993,-1.29687499999997,0.359374999999977],[0.484374999999993,0.140624999999998,-0.328124999999992,0.140624999999994],[-1.29687499999997,-0.328124999999992,1.01562499999997,-0.578124999999978],[0.359374999999977,0.140624999999994,-0.578124999999978,0.515624999999985]])).
answer('urn:example:matrix_inv_triang'([[2,0,0],[-1,2,0],[0,-1,2]],[[0.5,0.0,0.0],[0.25,0.5,0.0],[0.125,0.25,0.5]])).
answer('urn:example:matrix_multiply'([[[1,2],[3,4],[5,6]],[[1,1,1],[1,1,1]]],[[3,3,3],[7,7,7],[11,11,11]])).
answer('urn:example:matrix_multiply'([[[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],[[2.515624999999984,0.484374999999993,-1.29687499999997,0.359374999999977],[0.484374999999993,0.140624999999998,-0.328124999999992,0.140624999999994],[-1.29687499999997,-0.328124999999992,1.01562499999997,-0.578124999999978],[0.359374999999977,0.140624999999994,-0.578124999999978,0.515624999999985]]],[[1.00000000000005,6.2172489379008766e-15,1.7763568394002505e-14,3.5527136788005009e-15],[6.0396132539608516e-14,1.00000000000001,2.8421709430404007e-14,1.0658141036401503e-14],[1.7053025658242404e-13,1.4210854715202004e-14,1.00000000000004,4.2632564145606011e-14],[8.5265128291212022e-14,1.7763568394002505e-15,7.1054273576010019e-14,0.999999999999993]])).
answer('urn:example:matrix_sum'([[[1,2],[3,4],[5,6]],[[1,2],[3,4],[5,6]]],[[2,4],[6,8],[10,12]])).
answer('urn:example:cholesky_decomposition'([[25,15,-5],[15,18,0],[-5,0,11]],[[5.0,0,0],[3.0,3.0,0],[-1.0,1.0,3.0]])).
answer('urn:example:cholesky_decomposition'([[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],[[4.24264068711928,0,0,0],[5.18544972870135,6.5659052011974,0,0],[12.7279220613579,3.04603849540086,1.64974224790907,0],[9.89949493661167,1.624553864213788,1.84971100523136,1.3926212476456]])).

step((true:+'urn:example:determinant'([[2,-1,0],[-1,2,-1],[0,-1,2]],A)),'urn:example:determinant'([[2,-1,0],[-1,2,-1],[0,-1,2]],4.0),true).
step((true:+'urn:example:matrix_inversion'([[2,-1,0],[-1,2,-1],[0,-1,2]],A)),'urn:example:matrix_inversion'([[2,-1,0],[-1,2,-1],[0,-1,2]],[[0.75,0.5,0.25],[0.5,1.0,0.5],[0.25,0.5,0.75]]),true).
step((true:+'urn:example:matrix_inversion'([[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],A)),'urn:example:matrix_inversion'([[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],[[2.515624999999984,0.484374999999993,-1.29687499999997,0.359374999999977],[0.484374999999993,0.140624999999998,-0.328124999999992,0.140624999999994],[-1.29687499999997,-0.328124999999992,1.01562499999997,-0.578124999999978],[0.359374999999977,0.140624999999994,-0.578124999999978,0.515624999999985]]),true).
step((true:+'urn:example:matrix_inv_triang'([[2,0,0],[-1,2,0],[0,-1,2]],A)),'urn:example:matrix_inv_triang'([[2,0,0],[-1,2,0],[0,-1,2]],[[0.5,0.0,0.0],[0.25,0.5,0.0],[0.125,0.25,0.5]]),true).
step((true:+'urn:example:matrix_multiply'([[[1,2],[3,4],[5,6]],[[1,1,1],[1,1,1]]],A)),'urn:example:matrix_multiply'([[[1,2],[3,4],[5,6]],[[1,1,1],[1,1,1]]],[[3,3,3],[7,7,7],[11,11,11]]),true).
step((true:+'urn:example:matrix_multiply'([[[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],[[2.515624999999984,0.484374999999993,-1.29687499999997,0.359374999999977],[0.484374999999993,0.140624999999998,-0.328124999999992,0.140624999999994],[-1.29687499999997,-0.328124999999992,1.01562499999997,-0.578124999999978],[0.359374999999977,0.140624999999994,-0.578124999999978,0.515624999999985]]],A)),'urn:example:matrix_multiply'([[[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],[[2.515624999999984,0.484374999999993,-1.29687499999997,0.359374999999977],[0.484374999999993,0.140624999999998,-0.328124999999992,0.140624999999994],[-1.29687499999997,-0.328124999999992,1.01562499999997,-0.578124999999978],[0.359374999999977,0.140624999999994,-0.578124999999978,0.515624999999985]]],[[1.00000000000005,6.2172489379008766e-15,1.7763568394002505e-14,3.5527136788005009e-15],[6.0396132539608516e-14,1.00000000000001,2.8421709430404007e-14,1.0658141036401503e-14],[1.7053025658242404e-13,1.4210854715202004e-14,1.00000000000004,4.2632564145606011e-14],[8.5265128291212022e-14,1.7763568394002505e-15,7.1054273576010019e-14,0.999999999999993]]),true).
step((true:+'urn:example:matrix_sum'([[[1,2],[3,4],[5,6]],[[1,2],[3,4],[5,6]]],A)),'urn:example:matrix_sum'([[[1,2],[3,4],[5,6]],[[1,2],[3,4],[5,6]]],[[2,4],[6,8],[10,12]]),true).
step((true:+'urn:example:cholesky_decomposition'([[25,15,-5],[15,18,0],[-5,0,11]],A)),'urn:example:cholesky_decomposition'([[25,15,-5],[15,18,0],[-5,0,11]],[[5.0,0,0],[3.0,3.0,0],[-1.0,1.0,3.0]]),true).
step((true:+'urn:example:cholesky_decomposition'([[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],A)),'urn:example:cholesky_decomposition'([[18,22,54,42],[22,70,86,62],[54,86,174,134],[42,62,134,106]],[[4.24264068711928,0,0,0],[5.18544972870135,6.5659052011974,0,0],[12.7279220613579,3.04603849540086,1.64974224790907,0],[9.89949493661167,1.624553864213788,1.84971100523136,1.3926212476456]]),true).
