DIAGONALIZATION DEMO — The Halting Problem Paradox
========================================================================

Source of PARADOX(prog):
------------------------------------------------------------------------
    def PARADOX(prog: Callable[[Callable[..., Any]], Any]):
        """Do the *opposite* of what HALTS predicts for (prog, prog)."""
        if HALTS(prog, prog):
            # HALTS predicted that ``prog(prog)`` halts → we now LOOP forever
            while True:
                pass  # infinite loop to contradict the prediction
        else:
            # HALTS predicted that ``prog(prog)`` loops → we HALT immediately
            return "Halted!"  # returning terminates the function


Attempting to evaluate PARADOX(PARADOX) …

Caught expected exception from HALTS():
     A perfect halting oracle cannot exist — this is the whole point!

Why we *must* fail:
    1. Assume HALTS were perfect.
            2. By definition, PARADOX does the opposite of HALTS' prediction on itself.
            3. Evaluate PARADOX(PARADOX):
                 • If HALTS says it *halts*, PARADOX loops forever → contradiction.
                 • If HALTS says it *loops*, PARADOX halts immediately → contradiction.
            4. Both cases refute the assumption that HALTS is infallible.

            Result: a perfect halting decider cannot exist.  Q.E.D. (Turing, 1936)
